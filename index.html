<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Czy zostaniesz mojÄ… WalentynkÄ…? ğŸ’˜</title>

  <style>
    :root { --cardW: 520px; }

    body{
      font-family: Arial, sans-serif;
      background: radial-gradient(circle at top, #ffd1dc, #ff9aa2 55%, #ff6f91);
      min-height: 100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      margin:0;
      padding: 20px;
      text-align:center;
      overflow:hidden;
    }

    .card{
      width: min(var(--cardW), 92vw);
      background: rgba(255,255,255,0.92);
      border-radius: 22px;
      box-shadow: 0 14px 35px rgba(0,0,0,0.22);
      padding: 22px 20px 18px;
      backdrop-filter: blur(6px);
    }

    h1{
      margin: 6px 0 6px;
      font-size: 28px;
      line-height: 1.15;
    }

    .sub{
      margin: 0 0 14px;
      opacity: 0.9;
      font-size: 15px;
    }

    /* photos */
    .photos{
      display:flex;
      gap: 10px;
      justify-content:center;
      align-items:center;
      margin: 12px 0 16px;
      flex-wrap: wrap;
    }
    .photos img{
      width: 150px;
      height: 110px;
      object-fit: cover;
      border-radius: 14px;
      box-shadow: 0 8px 18px rgba(0,0,0,0.18);
      transition: transform .15s ease;
    }
    .photos img:hover{ transform: translateY(-2px) scale(1.02); }

    .btnRow{
      position: relative;
      height: 74px;
      margin: 6px 0 8px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap: 14px;
    }

    button{
      border: none;
      padding: 14px 22px;
      font-size: 16px;
      border-radius: 999px;
      cursor: pointer;
      font-weight: 700;
      box-shadow: 0 10px 18px rgba(0,0,0,0.18);
      transition: transform .08s ease;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
    }
    button:active{ transform: scale(0.98); }

    #yes{
      background: #18a957;
      color:white;
    }

    /* NO button will be positioned absolute for escaping */
    #no{
      background: #e73b3b;
      color:white;
      position: absolute;
      left: 50%;
      transform: translateX(120px);
      top: 50%;
      margin-top: -24px;
    }

    .hint{
      margin: 6px 0 0;
      font-size: 12.5px;
      opacity: 0.85;
    }

    #result{
      margin: 12px 0 0;
      font-size: 18px;
      font-weight: 800;
      min-height: 26px;
    }

    .tiny{
      margin-top: 10px;
      font-size: 12px;
      opacity: 0.7;
    }
  </style>
</head>

<body>
  <div class="card">
    <h1>ğŸ’˜ Czy zostaniesz mojÄ… WalentynkÄ… Wiktoria? ğŸ’˜</h1>
    <p class="sub">ObiecujÄ™: uÅ›miech, coÅ› pysznego i duÅ¼o czuÅ‚oÅ›ci (w pakiecie) ğŸ¥°</p>

    <!-- ZDJÄ˜CIA: wrzuÄ‡ pliki do repo w folderze /images i nazwij 1.jpg, 2.jpg, 3.jpg -->
    <div class="photos">
      <img src="images/1.jpg" alt="photo 1">
      <img src="images/2.jpg" alt="photo 2">
      <img src="images/3.jpg" alt="photo 3">
    </div>

    <div class="btnRow" id="arena">
      <button id="yes">TAK ğŸ’–</button>
      <button id="no">NIE ğŸ˜ˆ</button>
    </div>

    <div class="hint">Kliknij â€TAKâ€, Å¼eby odblokowaÄ‡ szczÄ™Å›cie âœ¨</div>
    <div class="tiny">PS. Przycisk â€NIEâ€ moÅ¼e byÄ‡ trochÄ™ nieÅ›miaÅ‚y ğŸ˜…</div>

    <div id="result"></div>
  </div>

  <script>
    const yes = document.getElementById("yes");
    const no = document.getElementById("no");
    const result = document.getElementById("result");
    const arena = document.getElementById("arena");

    // ---- SAVE / LOAD ANSWER (localStorage) ----
    const KEY = "valentine_answer_v1";

    function setAnswer(ans){
      localStorage.setItem(KEY, JSON.stringify({
        answer: ans,
        time: new Date().toISOString()
      }));
    }

    function getAnswer(){
      try { return JSON.parse(localStorage.getItem(KEY)); }
      catch(e){ return null; }
    }

    const saved = getAnswer();
    if(saved?.answer){
      result.textContent = `Zapisane: ${saved.answer} âœ…`;
    }

    // ---- YES CLICK ----
    yes.addEventListener("click", () => {
      setAnswer("TAK ğŸ’–");
      result.textContent = "YAY! ğŸ’˜ Widzimy siÄ™ na Walentynki ğŸ˜„";

      // Opcja 1: otwÃ³rz SMS z gotowym tekstem (podmieÅ„ numer!)
      // Odkomentuj i wpisz swÃ³j numer w formacie +48...
      // const phone = "+48XXXXXXXXX";
      // const msg = encodeURIComponent("TAK! ğŸ’– ZostanÄ™ TwojÄ… WalentynkÄ… ğŸ˜„");
      // window.location.href = `sms:${phone}?&body=${msg}`;

      // Opcja 2: skopiuj tekst do schowka (dziaÅ‚a w wiÄ™kszoÅ›ci przeglÄ…darek)
      const text = "TAK! ğŸ’– ZostanÄ™ TwojÄ… WalentynkÄ… ğŸ˜„";
      if(navigator.clipboard){
        navigator.clipboard.writeText(text).catch(()=>{});
      }
    });

    // ---- NO ESCAPE MODE ----
    let escapes = 0;
    const noTexts = [
      "NIE ğŸ˜ˆ",
      "Nie da siÄ™ ğŸ˜",
      "Oj prawie! ğŸ˜…",
      "ZÅ‚a odpowiedÅº ğŸ˜Œ",
      "Kliknij TAK ğŸ˜‡",
      "PrzestaÅ„ mnie goniÄ‡ ğŸ˜‚"
    ];

    function moveNoButton(){
      const rect = arena.getBoundingClientRect();
      const btnRect = no.getBoundingClientRect();

      // keep inside arena
      const padding = 6;
      const maxX = rect.width - btnRect.width - padding;
      const maxY = rect.height - btnRect.height - padding;

      const x = Math.max(padding, Math.random() * maxX);
      const y = Math.max(padding, Math.random() * maxY);

      no.style.left = `${x}px`;
      no.style.top = `${y}px`;
      no.style.transform = "translateX(0)"; // disable initial translate after first move

      escapes++;
      no.textContent = noTexts[escapes % noTexts.length];
    }

    // Desktop hover
    no.addEventListener("mouseover", moveNoButton);
    // Mobile touch
    no.addEventListener("touchstart", (e) => {
      e.preventDefault();
      moveNoButton();
    }, {passive:false});

    // If she somehow clicks NO
    no.addEventListener("click", () => {
      setAnswer("NIE ğŸ˜ˆ");
      result.textContent = "Zapisane: NIEâ€¦ ale czujÄ™, Å¼e to i tak â€TAKâ€ ğŸ˜„";

